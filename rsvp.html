<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>RSVP — Charlotte & Gianluca</title>

<link href="https://fonts.googleapis.com/css2?family=Cormorant:wght@300;400;500;600&family=Allura&display=swap" rel="stylesheet">

<!-- === GLOBAL LOGIN STYLE & MODAL (popup) === -->
<style>
/* Overlay scuro dietro al popup */
#guestLoginOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.45);
  display: none; /* nascosto di default */
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 20px;
  font-family: "Cormorant", serif;
}

/* Box popup */
#guestLoginModal {
  background: #fff;
  max-width: 360px;
  width: 100%;
  border-radius: 16px;
  box-shadow: 0 20px 60px rgba(0,0,0,.25);
  padding: 24px 20px 20px;
  position: relative;
  text-align: center;
  border: 1px solid rgba(0,0,0,.06);
}

/* Titolo popup */
#guestLoginModal h2 {
  font-family: "Allura", cursive;
  font-size: 32px;
  line-height: 1.2;
  color: var(--accent);
  margin: 0 0 10px;
}

/* Testo descrizione */
#guestLoginModal p {
  font-size: 18px;
  line-height: 1.4;
  margin: 0 0 16px;
  color: var(--ink);
  font-style: italic;
}

/* Form campi */
.guest-field {
  text-align: left;
  margin-bottom: 14px;
}
.guest-field label {
  display: block;
  font-size: 16px;
  margin-bottom: 4px;
  color: var(--muted);
}
.guest-field input {
  width: 100%;
  font-size: 18px;
  font-family: "Cormorant", serif;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid #ccc;
  outline: none;
}
.guest-field input:focus {
  border-color: var(--accent);
}

/* Pulsanti nel popup */
#guestLoginActions {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-top: 18px;
}

/* Bottone Conferma */
#guestConfirmBtn {
  background: var(--accent);
  color: #fff;
  border: none;
  border-radius: 12px;
  font-size: 18px;
  font-weight: 600;
  padding: 12px;
  cursor: pointer;
  font-family: "Cormorant", serif;
}
#guestConfirmBtn:hover {
  opacity: .95;
}

/* Link Esci / Logout */
#guestLogoutBtn {
  background: none;
  border: none;
  color: var(--muted);
  font-size: 16px;
  text-decoration: underline;
  cursor: pointer;
  font-family: "Cormorant", serif;
}

/* Messaggio di errore nome non trovato */
#guestError {
  color: #b00020;
  font-size: 16px;
  text-align: center;
  display: none;
  margin-top: 8px;
  line-height: 1.4;
  font-family: "Cormorant", serif;
}
</style>



<style>
:root{
  --accent:#7465ad;
  --beige:#f7f4ef;
  --ink:#242424;
  --muted:#6b6b6b;
}

/* RESET BASE */
*{box-sizing:border-box;}
html,body{
  height:100%;
  margin:0;
  font-family:"Cormorant", serif;
  color:var(--ink);
  background:var(--beige);
  background-image:
    radial-gradient(1200px 700px at 100% -10%, rgba(116,101,173,.10), transparent 60%),
    radial-gradient(900px 500px at -10% 10%, rgba(116,101,173,.06), transparent 55%);
  background-attachment:fixed;
}

/* ======================= */
/* HEADER BASE */
/* ======================= */
header{
  position:sticky;
  top:0;
  z-index:10;
  background:rgba(247,244,239,.88);
  backdrop-filter:blur(6px);
  border-bottom:1px solid rgba(0,0,0,.06);
  font-family:"Cormorant", serif;
}

.nav{
  max-width:1100px;
  margin:0 auto;
  padding:18px 22px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}

/* BLOCCO A SINISTRA (nomi e data) */
.brand{
  display:flex;
  align-items:center;
  flex-wrap:nowrap;
  gap:8px;
}
.names{
  font-family:"Allura", cursive;
  font-size:36px;
  line-height:1.1;
  color:var(--accent);
  white-space:nowrap;
}
.dot{
  color:var(--muted);
  font-size:20px;
  line-height:1.1;
}
.date{
  color:var(--muted);
  font-size:20px;
  line-height:1.1;
  letter-spacing:.4px;
  font-weight:500;
  white-space:nowrap;
}

/* MENU DESKTOP */
nav ul{
  list-style:none;
  display:flex;
  gap:24px;
  margin:0;
  padding:0;
}
nav a{
  text-decoration:none;
  color:var(--ink);
  opacity:.95;
  font-size:19px;
  line-height:1;
  padding:8px 6px;
  border-radius:10px;
  font-family:"Cormorant", serif;
}
nav a:hover{
  opacity:1;
  border-bottom:1px solid var(--accent);
}

/* RSVP evidenziato */
nav li.cta a {
  background:var(--accent);
  color:#fff;
  padding:10px 14px;
  border-radius:14px;
  border-bottom:none;
  font-weight:500;
  line-height:1.1;
}

nav li.cta a:hover{
  opacity:.95;
  transform:translateY(-1px);
}

/* HAMBURGER MOBILE */
.hamburger{
  display:none;
  border:1px solid rgba(0,0,0,.1);
  background:#fff;
  border-radius:10px;
  padding:8px 10px;
  cursor:pointer;
}
.hamburger span{
  display:block;
  width:20px;
  height:2px;
  background:#444;
  margin:4px 0;
}

/* MENU MOBILE */
.mobile-menu {
  display:none;
  position:fixed;
  top:64px;
  left:16px; /* <-- PRIMA era right:16px */
  right:auto; /* <-- per sicurezza azzeriamo l'altro lato */
  background:#fff;
  border:1px solid rgba(0,0,0,.06);
  border-radius:16px;
  box-shadow:0 8px 40px rgba(0,0,0,.12);
  padding:12px;
  z-index:40;
}

.mobile-menu a{
  display:block;
  padding:10px 12px;
  border-radius:10px;
  color:var(--ink);
  text-decoration:none;
  font-family:"Cormorant", serif;
  font-size:18px;
}
.mobile-menu a:hover{
  background:rgba(116,101,173,.08);
}

/* ======================= */
/* HERO TITLE DELLA PAGINA (Our story, RSVP, ecc.) */
.page-head {
  text-align: center;
  padding: 60px 20px 40px;
}

.page-head h1 {
  font-family: "Allura", cursive;
  font-size: 56px;
  color: var(--accent);
  margin: 0 0 10px;
  line-height: 1.2;
}

.page-head p {
  font-family: "Cormorant", serif;
  font-size: 22px;
  color: var(--muted);
  margin: 0;
  font-style: italic; /* <-- corsivo per il sottotitolo */
}
  
  /* Titoli principali tipo RSVP, Honeymoon, ecc. */
.h1 {
  font-family: "Allura", cursive;
  font-size: 56px;
  color: var(--accent);
  text-align: center;
  margin: 10px 0 14px;
  line-height: 1.2;
}

/* ======================= */
/* ELEMENTI HOME */
/* ======================= */
.hero-img-wrapper{
  max-width:520px;
  margin:0 auto 20px;
}
.hero-img{
  display:block;
  width:100%;
  height:auto;
}

/* Countdown */
.countdown{
  display:flex;
  justify-content:center;
  gap:14px;
  flex-wrap:wrap;
  margin-top:10px;
}
.cd-box{
  min-width:110px;
  background:#fff;
  border:1px solid #eee;
  border-radius:14px;
  padding:12px 14px;
  text-align:center;
  box-shadow:0 10px 28px rgba(0,0,0,.06);
}
.cd-num{
  font-size:30px;
  font-weight:600;
  color:var(--accent);
  line-height:1;
}
.cd-label{
  font-size:12px;
  color:var(--muted);
  letter-spacing:.4px;
  text-transform:uppercase;
  margin-top:4px;
}

/* Blocchi sezioni lingue */
.section{
  max-width:900px;
  margin:0 auto;
  padding:40px 20px 80px;
  text-align:center;
}
.lang-block{
  background:#fff;
  border-radius:18px;
  border:1px solid #eee;
  padding:24px;
  margin-top:24px;
}
.lang-block h2{
  font-family:"Allura", cursive;
  font-size:42px;
  color:var(--accent);
  margin:0 0 10px;
}

/* Bottoni */
.btn{
  display:inline-block;
  background:var(--accent);
  color:#fff;
  text-decoration:none;
  padding:12px 22px;
  border-radius:16px;
  font-weight:600;
}
.btn:hover{opacity:.95;}

/* Footer */
footer{
  text-align:center;
  color:#6b6b6b;
  padding:40px 20px;
  font-size:14px;
}

/* ======================= */
/* RESPONSIVE */
/* ======================= */
@media(max-width:600px){
  .nav {
    width:100%;
    padding:16px 12px;
  }
  .hamburger { display:block; }
  nav ul { display:none; }
  .names { font-size:30px; }
  .date  { font-size:17px; }

  .mobile-menu {
    top:58px;
    left:12px;   /* spostato a sinistra */
    right:auto;  /* niente più right */
  }
}

@media(max-width:700px){
  .hero-img-wrapper{max-width:400px;}
  .page-head h1{font-size:48px;}
  .page-head p{font-size:20px;}
  .cd-box{min-width:46%;}
  nav a{font-size:18px;}
}

/* Sezioni lingue */
.box{
  background:#fff; border:1px solid #eee; border-radius:20px; padding:24px;
  margin:26px 0;
}
.tag{
  display:flex; align-items:center; gap:10px; margin:0 0 8px 0;
  font-size:26px; font-weight:600; color:var(--ink);
}
.h2{ margin:0; font-family:"Allura",cursive; font-size:40px; line-height:1; color:var(--accent) }
.note{color:var(--muted); margin:0 0 10px 0}

/* Bottoncini indice lingue */
.lang-toc{display:flex; gap:10px; justify-content:center; margin:10px 0 20px}
.lang-toc a{
  text-decoration:none; color:var(--ink); border:1px solid #ddd; padding:6px 10px; border-radius:10px;
}
.lang-toc a:hover{border-color:var(--accent)}
iframe{width:100%; border:0; border-radius:12px; box-shadow:0 6px 24px rgba(0,0,0,.06)}


</style>
</head>

<body>

<!-- === LOGIN MODAL OVERLAY (popup iniziale e per logout) === -->
<div id="guestLoginOverlay" role="dialog" aria-modal="true">
  <div id="guestLoginModal">

    <!-- Titolo -->
    <h2>Welcome · Bienvenue · Benvenuti</h2>

    <!-- Testo: chiediamo nome e cognome, senza spiegare il motivo -->
    <p>
      Please enter your first and last name.<br>
      Veuillez saisir votre prénom et nom.<br>
      Inserisci nome e cognome.
    </p>

    <!-- CAMPO NOME -->
    <div class="guest-field">
      <label for="guestFirst">Name · Prénom · Nome</label>
      <input type="text" id="guestFirst" placeholder="Charlotte / Gianluca / ..." />
    </div>

    <!-- CAMPO COGNOME -->
    <div class="guest-field">
      <label for="guestLast">Surname · Nom · Cognome</label>
      <input type="text" id="guestLast" placeholder="Francis / Guardalà / ..." />
    </div>

    <!-- ERROR MSG -->
    <div id="guestError">
      Name not recognized.<br>
      Nom non reconnu.<br>
      Nome non trovato.
    </div>

    <!-- AZIONI -->
    <div id="guestLoginActions">
      <button id="guestConfirmBtn">OK</button>
      <button id="guestLogoutBtn" style="display:none;">Log out / Déconnexion / Esci</button>
    </div>

  </div>
</div>

  
<header>
  <div class="nav">
    <div class="brand">
      <button id="hambBtn" class="hamburger" aria-label="Open menu"><span></span><span></span><span></span></button>
      <div class="names">Charlotte &amp; Gianluca</div>
      <div class="dot">·</div>
      <div class="date">June 20, 2026</div>
    </div>
    <nav>
      <ul>
        <li><a href="/home.html">Home</a></li>
        <li><a href="/story.html">Our story</a></li>
        <li><a href="/stay.html">Plan your trip</a></li>
        <li><a href="/trip.html">Honeymoon</a></li>
        <li class="cta"><a href="/rsvp.html">RSVP</a></li>
      </ul>
    </nav>
  </div>
  <!-- MENU MOBILE -->
  <div id="mobileMenu" class="mobile-menu">
    <a href="/home.html">Home</a>
    <a href="/story.html">Our story</a>
    <a href="/stay.html">Plan your trip</a>
    <a href="/trip.html">Honeymoon</a>
    <a href="/rsvp.html"><strong>RSVP</strong></a>
  </div>
</header>

<main class="section">
  <h1 class="h1">RSVP</h1>

  <!-- Indice lingue -->
  <nav class="lang-toc">
    <a href="#it">🇮🇹 Italiano</a>
    <a href="#en">🇬🇧 English</a>
    <a href="#fr">🇫🇷 Français</a>
  </nav>

  <!-- ─────────────────────────────── -->
  <!-- SEZIONI STANDARD (NON VIP)     -->
  <!-- ─────────────────────────────── -->
  <!-- ITALIANO NON VIP -->
  <section id="it" class="box non-vip-only">
    <div class="tag">
      <span class="h2">RSVP</span>
      <span>· 🇮🇹 Italiano</span>
    </div>
    <p class="note">
      Conferma la tua presenza al matrimonio di sabato, indicaci eventuali intolleranze,
      se vuoi usare la navetta ecc. 💜
    </p>

    <iframe
      src="https://forms.gle/Eafdg9XHaNFrVhft5"
      height="1400"
      allowfullscreen
      referrerpolicy="no-referrer-when-downgrade">
      Caricamento…
    </iframe>
  </section>

  <!-- ENGLISH NON VIP -->
  <section id="en" class="box non-vip-only">
    <div class="tag">
      <span class="h2">RSVP</span>
      <span>· 🇬🇧 English</span>
    </div>
    <p class="note">
      Please confirm your attendance for Saturday, tell us about dietary needs
      and if you’d like to use the shuttle.
    </p>

    <iframe
      src="https://forms.gle/6UDNAWp1udvXgg4i9"
      height="1400"
      allowfullscreen
      referrerpolicy="no-referrer-when-downgrade">
      Loading…
    </iframe>
  </section>

  <!-- FRANÇAIS NON VIP -->
  <section id="fr" class="box non-vip-only">
    <div class="tag">
      <span class="h2">RSVP</span>
      <span>· 🇫🇷 Français</span>
    </div>
    <p class="note">
      Merci de confirmer votre présence pour le samedi, vos besoins alimentaires,
      et si vous souhaitez utiliser la navette.
    </p>

    <iframe
      src="https://forms.gle/DY9pH1s5cTpetJzC7"
      height="1400"
      allowfullscreen
      referrerpolicy="no-referrer-when-downgrade">
      Chargement…
    </iframe>
  </section>

  <!-- ─────────────────────────────── -->
  <!-- BLOCCO VIP (SOLO VIP)          -->
  <!-- ─────────────────────────────── -->
  <section class="box vip-only" style="display:none;">
    <div class="tag">
      <span class="h2">Welcome Dinner & Brunch</span>
      <span>· VIP only</span>
    </div>

    <p class="note">
      Questo form include anche la conferma alla cena di benvenuto del venerdì
      e al brunch della domenica 🥂<br>
      Ce formulaire inclut aussi la soirée du vendredi et le brunch du dimanche 🥐
    </p>

    <!-- FORM VIP ITALIANO -->
    <iframe
      src="https://forms.gle/oNowhEGJMPs4ZYhd8"
      height="1600"
      allowfullscreen
      referrerpolicy="no-referrer-when-downgrade">
      Caricamento…
    </iframe>

    <!-- FORM VIP FRANCESE -->
    <iframe
      src="https://forms.gle/6Cm8hyHaX7hZ33To6"
      height="1600"
      allowfullscreen
      referrerpolicy="no-referrer-when-downgrade">
      Chargement…
    </iframe>
  </section>
</main>


<footer style="text-align:center;color:#6b6b6b;padding:40px 20px">
  <small>© Charlotte &amp; Gianluca — 2026</small>
</footer>

<script>
// ========================
// 1. MENU MOBILE
// ========================
(function(){
  const btn = document.getElementById('hambBtn');
  const menu = document.getElementById('mobileMenu');
  if(btn && menu){
    btn.addEventListener('click', e=>{
      e.stopPropagation();
      menu.style.display = (menu.style.display === 'block') ? 'none' : 'block';
    });
    document.addEventListener('click', e=>{
      if(menu.style.display === 'block' && !menu.contains(e.target) && e.target !== btn){
        menu.style.display = 'none';
      }
    });
  }
})();


// ========================
// 2. LISTA VIP
//    (usa questa lista aggiornata)
// ========================
const VIP_LIST = [
  "charlotte francis",
  "yves francis",
  "laurence hoppe",
  "chloe francis",
  "chloé francis",
  "maya mertens",
  "chiara regalia",
  "matteo biroli",
  "chiara sestini",
  "riccardo magri",
  "marta vitro",
  "mattia marco",
  "andrea rodriguez",
  "piero giuriolo",
  "pietro favari",
  "elisa ferrantelli",
  "francesco santermosi",
  "viviana serdoz",
  "francesca garoia",
  "malve malvestio",
  "attilia la vecchia",
  "stefano de looper",
  "clara simon",
  "marine lesage",
  "thomas hulet",
  "nicola delle foglie",
  "baptiste charvat",
  "liza bibakova",
  "iphigenie loukakis",
  "iphigénie loukakis",
  "sara nyssen",
  "koen slingerland",
  "gianluca guardala",
  "gianluca guardalà",
  "francesca arduini",
  "benedict",
  "bénédict",
  "isidoro guardala",
  "isidoro guardalà",
  "simona guardala",
  "simona guardalà",
  "alessando guardala",
  "alessando guardalà",
  "irene guardala",
  "irene guardalà",
  "patrick guardala",
  "patrick guardalà",
  "emanuela zannetti",
  "andrea perozziello",
  "ragazza perroz",
  "fabio tarricone",
  "gisella martino capeda",
  "edoardo cutolo",
  "giorgia piras",
  "edoardo papini",
  "vittorio corti",
  "benedetta barbaresi",
  "giacomo gussoni",
  "matteo rossi",
  "lucrezia piracci",
  "davide bellotto",
  "silvia oltrabella",
  "ludovico sibani",
  "silvia pignotti",
  "benedetta testoni",
  "giovanni de maria",
  "edoardo ferrario",
  "alessandro bianchi",
  "beatrice villa",
  "luca caravaggi",
  "mara moschino",
  "marzia camapnile",
  "marzia campanile",
  "nikola calic",
  "filippo sugla",
  "filippo sugli",
  "filippo suglià",
  "filippo sugia",
  "filippo sugia",
  "filippo sugia",
  "filippo sugia", /* (nel caso ci fossero errori battitura, lascialo così) */
  "camilla russo",
  "laerte adami",
  "noemi",
  "alberto garlaschelli",
  "jacopo guarneri",
  "lorenzo cederna",
  "benedetta pintus",
  "laura gomez martin",
  "anna garruto"
];

// ========================
// 3. NORMALIZZA IL NOME
//    (toglie accenti, spazi extra, tutto minuscolo)
// ========================
function normalizeName(str){
  if(!str) return "";
  return str
    .trim()
    .toLowerCase()
    .normalize("NFD")              // separa gli accenti
    .replace(/[\u0300-\u036f]/g,"") // rimuove accenti tipo à -> a
    .replace(/\s+/g," ");           // spazi multipli -> spazio singolo
}

// ========================
// 4. MOSTRA POPUP SE NON ABBIAMO ANCORA IL NOME
// ========================

// Questa funzione restituisce true se l'utente è VIP
function isVIP(){
  return localStorage.getItem("isVIP") === "true";
}

// Questa funzione dice se abbiamo già fatto login
function hasIdentification(){
  return !!localStorage.getItem("guestName");
}

// Apre il popup
function openLoginModal(){
  const modal = document.getElementById("loginModal");
  if(modal){
    modal.style.display = "flex";
  }
}

// Chiude il popup
function closeLoginModal(){
  const modal = document.getElementById("loginModal");
  if(modal){
    modal.style.display = "none";
  }
}

// ========================
// 5. APPLICA LA VISIBILITÀ
//    - VIP vede solo blocchi con .vip-only
//    - NON VIP vede solo blocchi con .non-vip-only
// ========================
function applyVIPVisibility(){
  const vipBlocks = document.querySelectorAll(".vip-only");
  const nonVipBlocks = document.querySelectorAll(".non-vip-only");

  if(isVIP()){
    // Se è VIP: mostra .vip-only, nascondi .non-vip-only
    vipBlocks.forEach(el => el.style.display = "");
    nonVipBlocks.forEach(el => el.style.display = "none");
  } else {
    // Se NON è VIP: mostra .non-vip-only, nascondi .vip-only
    vipBlocks.forEach(el => el.style.display = "none");
    nonVipBlocks.forEach(el => el.style.display = "");
  }
}

// ========================
// 6. AL SUBMIT DEL POPUP
//    controlla se è VIP → salva in localStorage
// ========================
function handleLoginSubmit(e){
  e.preventDefault();

  const nameInput = document.getElementById("guestNameInput");
  const surnameInput = document.getElementById("guestSurnameInput");

  if(!nameInput || !surnameInput) return;

  const rawFullName = nameInput.value + " " + surnameInput.value;
  const normFullName = normalizeName(rawFullName);

  // Controllo se è nella lista VIP
  const guestIsVIP = VIP_LIST.includes(normFullName);

  // Salvo info nel browser
  localStorage.setItem("guestName", rawFullName.trim());
  localStorage.setItem("isVIP", guestIsVIP ? "true" : "false");

  // Chiudi popup
  closeLoginModal();

  // Applica visibilità (così subito aggiorna la pagina senza refresh)
  applyVIPVisibility();
}

// ========================
// 7. INIZIALIZZAZIONE ALL'APERTURA DELLA PAGINA
//    - se non c'è login → apri popup
//    - poi applica visibilità
// ========================
document.addEventListener("DOMContentLoaded", () => {
  // 1. Se non abbiamo ancora nome/surname salvati, chiedili
  if(!hasIdentification()){
    openLoginModal();
  }

  // 2. Applica subito la visibilità dei blocchi
  applyVIPVisibility();

  // 3. Attacca listener al bottone "Submit" del popup
  const loginForm = document.getElementById("loginForm");
  if(loginForm){
    loginForm.addEventListener("submit", handleLoginSubmit);
  }

  // 4. Chiudi popup se clicchi sulla X
  const closeBtn = document.getElementById("closeLoginModal");
  if(closeBtn){
    closeBtn.addEventListener("click", closeLoginModal);
  }
});
</script>

  
</body>
</html>
