<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Our story ‚Äî Charlotte & Gianluca</title>

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cormorant:wght@300;400;500;600&family=Allura&display=swap" rel="stylesheet">

  <!-- === GLOBAL LOGIN STYLE & MODAL (popup) === -->
<style>
/* Overlay scuro dietro al popup */
#guestLoginOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.45);
  display: none; /* nascosto di default */
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 20px;
  font-family: "Cormorant", serif;
}

/* Box popup */
#guestLoginModal {
  background: #fff;
  max-width: 360px;
  width: 100%;
  border-radius: 16px;
  box-shadow: 0 20px 60px rgba(0,0,0,.25);
  padding: 24px 20px 20px;
  position: relative;
  text-align: center;
  border: 1px solid rgba(0,0,0,.06);
}

/* Titolo popup */
#guestLoginModal h2 {
  font-family: "Allura", cursive;
  font-size: 32px;
  line-height: 1.2;
  color: var(--accent);
  margin: 0 0 10px;
}

/* Testo descrizione */
#guestLoginModal p {
  font-size: 18px;
  line-height: 1.4;
  margin: 0 0 16px;
  color: var(--ink);
  font-style: italic;
}

/* Form campi */
.guest-field {
  text-align: left;
  margin-bottom: 14px;
}
.guest-field label {
  display: block;
  font-size: 16px;
  margin-bottom: 4px;
  color: var(--muted);
}
.guest-field input {
  width: 100%;
  font-size: 18px;
  font-family: "Cormorant", serif;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid #ccc;
  outline: none;
}
.guest-field input:focus {
  border-color: var(--accent);
}

/* Pulsanti nel popup */
#guestLoginActions {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-top: 18px;
}

/* Bottone Conferma */
#guestConfirmBtn {
  background: var(--accent);
  color: #fff;
  border: none;
  border-radius: 12px;
  font-size: 18px;
  font-weight: 600;
  padding: 12px;
  cursor: pointer;
  font-family: "Cormorant", serif;
}
#guestConfirmBtn:hover {
  opacity: .95;
}

/* Link Esci / Logout */
#guestLogoutBtn {
  background: none;
  border: none;
  color: var(--muted);
  font-size: 16px;
  text-decoration: underline;
  cursor: pointer;
  font-family: "Cormorant", serif;
}

/* Messaggio di errore nome non trovato */
#guestError {
  color: #b00020;
  font-size: 16px;
  text-align: center;
  display: none;
  margin-top: 8px;
  line-height: 1.4;
  font-family: "Cormorant", serif;
}
</style>


<style>
:root{
  --accent:#7465ad;
  --beige:#f7f4ef; --ink:#242424; --muted:#6b6b6b;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:"Cormorant",serif;color:var(--ink);background:var(--beige);
  background-image:radial-gradient(1200px 700px at 100% -10%, rgba(116,101,173,.10), transparent 60%),
                   radial-gradient(900px 500px at -10% 10%, rgba(116,101,173,.06), transparent 55%);
  background-attachment:fixed}
:root{
  --accent:#7465ad;
  --beige:#f7f4ef;
  --ink:#242424;
  --muted:#6b6b6b;
  --card-bg:#ffffff;
}

*{ box-sizing:border-box; }
html,body{
  margin:0;
  background:var(--beige);
  color:var(--ink);
  font-family:"Cormorant", serif;
}

/* HEADER BASE */
header {
  position:sticky;
  top:0;
  z-index:10;
  background:rgba(247,244,239,.88);
  backdrop-filter:blur(6px);
  border-bottom:1px solid rgba(0,0,0,.06);
  font-family:"Cormorant", serif;
}

.nav {
  max-width:1100px;
  margin:0 auto;
  padding:18px 22px;
  display:flex;
  align-items:center;           /* <-- allinea tutto sul centro verticale */
  justify-content:space-between;
  gap:12px;
}

/* BLOCCO A SINISTRA (logo/testo) */
.brand {
  display:flex;
  align-items:center;           /* <-- anche qui center */
  flex-wrap:nowrap;
  gap:8px;
}

/* Nomi */
.names {
  font-family:"Allura", cursive;
  font-size:36px;               /* cambia qui per ingrandire o ridurre */
  line-height:1.1;
  color:var(--accent);
  white-space:nowrap;
}

/* Puntino separatore */
.dot {
  color:var(--muted);
  font-size:20px;
  line-height:1.1;
}

/* Data */
.date {
  color:var(--muted);
  font-size:20px;               /* cambia qui per farla pi√π grande/piccola */
  line-height:1.1;
  letter-spacing:.4px;
  font-weight:500;
  white-space:nowrap;
}

/* MENU DESKTOP */
nav ul {
  list-style:none;
  display:flex;
  gap:24px;
  margin:0;
  padding:0;
}

nav a {
  text-decoration:none;
  color:var(--ink);
  opacity:.95;
  font-size:19px;
  line-height:1;
  padding:8px 6px;
  border-radius:10px;
  font-family:"Cormorant", serif;
}

nav a:hover {
  opacity:1;
  border-bottom:1px solid var(--accent);
}

/* RSVP evidenziato */
nav li.cta a {
  background:var(--accent);
  color:#fff;
  padding:10px 14px;
  border-radius:14px;
  border-bottom:none;
  font-weight:500;
  line-height:1.1;
}

nav li.cta a:hover {
  opacity:.95;
  transform:translateY(-1px);
}

/* HAMBURGER (mobile) */
.hamburger {
  display:none;
  border:1px solid rgba(0,0,0,.1);
  background:#fff;
  border-radius:10px;
  padding:8px 10px;
  cursor:pointer;
}
.hamburger span {
  display:block;
  width:20px;
  height:2px;
  background:#444;
  margin:4px 0;
}

/* MENU MOBILE POPUP */
.mobile-menu {
  display:none;
  position:fixed;
  top:64px;
  left:16px; /* <-- PRIMA era right:16px */
  right:auto; /* <-- per sicurezza azzeriamo l'altro lato */
  background:#fff;
  border:1px solid rgba(0,0,0,.06);
  border-radius:16px;
  box-shadow:0 8px 40px rgba(0,0,0,.12);
  padding:12px;
  z-index:40;
}

.mobile-menu a {
  display:block;
  padding:10px 12px;
  border-radius:10px;
  color:var(--ink);
  text-decoration:none;
  font-family:"Cormorant", serif;
  font-size:18px;
}
.mobile-menu a:hover {
  background:rgba(116,101,173,.08);
}

/* HERO TITLE DELLA PAGINA (Our story, RSVP, ecc.) */
.page-head {
  text-align: center;
  padding: 60px 20px 40px;
}

.page-head h1 {
  font-family: "Allura", cursive;
  font-size: 56px;
  color: var(--accent);
  margin: 0 0 10px;
  line-height: 1.2;
}

.page-head p {
  font-family: "Cormorant", serif;
  font-size: 22px;
  color: var(--muted);
  margin: 0;
  font-style: italic; /* <-- corsivo per il sottotitolo */
}

  
/* RESPONSIVE */
@media(max-width:600px){
  .nav {
    width:100%;
    padding:16px 12px;
  }
  .hamburger { display:block; }
  nav ul { display:none; }
  .names { font-size:30px; }
  .date  { font-size:17px; }

  .mobile-menu {
    top:58px;
    left:12px;   /* spostato a sinistra */
    right:auto;  /* niente pi√π right */
  }
}


/* LANG TOC (selettore lingua) */
.lang-toc{
  max-width:1100px;
  margin:0 auto;
  padding:10px 20px 30px;
  display:flex;
  justify-content:center;
  gap:10px;
  flex-wrap:wrap;
}
.lang-toc a{
  text-decoration:none;
  color:var(--ink);
  border:1px solid #ddd;
  background:#fff;
  padding:8px 12px;
  border-radius:12px;
  font-size:17px;
  line-height:1.2;
}
.lang-toc a:hover{
  border-color:var(--accent);
  color:var(--accent);
}

/* SECTION TITLE PER LINGUA */
.lang-section-title{
  font-family:"Allura", cursive;
  font-size:40px;
  line-height:1.2;
  color:var(--accent);
  text-align:center;
  margin:60px 0 30px;
}
.lang-section-note{
  text-align:center;
  color:var(--muted);
  font-size:18px;
  max-width:800px;
  margin:0 auto 40px;
  line-height:1.4;
}

/* TIMELINE WRAPPER */
.timeline-wrapper{
  max-width:1100px;
  margin:0 auto;
  padding:20px 20px 80px;
  position:relative;
}

/* Linea verticale centrale */
.timeline-line{
  position:absolute;
  left:50%;
  top:0;
  bottom:0;
  width:2px;
  background:rgba(0,0,0,.08);
  transform:translateX(-50%);
}
@media(max-width:800px){
  .timeline-line{
    left:24px;
    transform:none;
  }
}

/* Ogni blocco della timeline */
.moment{
  width:100%;
  display:flex;
  align-items:flex-start;
  margin-bottom:60px;
  position:relative;
}

/* Alterniamo destra/sinistra su desktop */
.moment-left .content { order:2; padding-left:40px; padding-right:0; text-align:left; }
.moment-left .photos  { order:1; justify-content:flex-end; }
.moment-right .content{ order:1; padding-right:40px; padding-left:0; text-align:right; }
.moment-right .photos { order:2; justify-content:flex-start; }

/* Punto sulla linea */
.moment .dot-year{
  position:absolute;
  left:50%;
  top:10px;
  transform:translate(-50%,0);
  background:#fff;
  width:14px;
  height:14px;
  border-radius:50%;
  border:2px solid rgba(0,0,0,.25);
  box-shadow:0 2px 6px rgba(0,0,0,.12);
}
@media(max-width:800px){
  .moment .dot-year{
    left:24px;
    transform:none;
  }
}

/* Colonne foto e testo */
.photos,
.content{
  width:50%;
  max-width:500px;
  display:flex;
  flex-wrap:wrap;
  gap:20px;
}
.photos{
  align-items:flex-start;
}
@media(max-width:800px){
  .moment{
    flex-direction:column;
    padding-left:50px;
  }
  .photos,
  .content{
    width:100%;
    max-width:100%;
    text-align:left !important;
    padding:0 !important;
    order:unset !important;
  }
  .photos{
    margin-bottom:20px;
    justify-content:flex-start !important;
  }
}

/* Singola polaroid */
.polaroid{
  position:relative;
  background:#fff;
  border:10px solid #fff;
  border-bottom-width:22px;
  border-radius:6px;
  box-shadow:0 10px 30px rgba(0,0,0,.12),0 2px 8px rgba(0,0,0,.06);
  max-width:220px;
  transform:rotate(-1.5deg);
}
.polaroid img{
  display:block;
  width:100%;
  height:auto;
  border-radius:2px;
}
.polaroid.rotate-pos{
  transform:rotate(2deg);
}
.polaroid.rotate-neg{
  transform:rotate(-2deg);
}
.tape{
  position:absolute;
  top:-14px;
  left:50%;
  transform:translateX(-50%) rotate(-3deg);
  width:120px;
  height:28px;
  background:rgba(255,255,200,.7);
  box-shadow:0 4px 10px rgba(0,0,0,.15);
  border-radius:4px;
}

/* Testo del momento */
.moment .year-label{
  display:inline-block;
  font-family:"Cormorant", serif;
  font-weight:600;
  font-size:18px; /* pi√π visibile */
  color:#333;
  background:#f5f5f5;
  border:1px solid #eee;
  border-radius:999px;
  padding:5px 12px;
  margin-bottom:10px;
}
.moment h2{
  font-family:"Allura", cursive;
  font-size:32px; /* un po' pi√π piccolo rispetto a year-label */
  line-height:1.25;
  color:var(--accent);
  margin:0 0 10px;
}
.moment p{
  margin:0;
  font-size:18px;
  line-height:1.5;
  color:var(--ink);
  font-weight:400;
}

/* FOOTER */
footer{
  text-align:center;
  color:#6b6b6b;
  padding:40px 20px;
  font-size:14px;
  background:transparent;
}
</style>
</head>

<body>

  <!-- === LOGIN MODAL OVERLAY (popup iniziale e per logout) === -->
<div id="guestLoginOverlay" role="dialog" aria-modal="true">
  <div id="guestLoginModal">

    <!-- Titolo -->
    <h2>Welcome ¬∑ Bienvenue ¬∑ Benvenuti</h2>

    <!-- Testo: chiediamo nome e cognome, senza spiegare il motivo -->
    <p>
      Please enter your first and last name.<br>
      Veuillez saisir votre pr√©nom et nom.<br>
      Inserisci nome e cognome.
    </p>

    <!-- CAMPO NOME -->
    <div class="guest-field">
      <label for="guestFirst">Name ¬∑ Pr√©nom ¬∑ Nome</label>
      <input type="text" id="guestFirst" placeholder="Charlotte / Gianluca / ..." />
    </div>

    <!-- CAMPO COGNOME -->
    <div class="guest-field">
      <label for="guestLast">Surname ¬∑ Nom ¬∑ Cognome</label>
      <input type="text" id="guestLast" placeholder="Francis / Guardal√† / ..." />
    </div>

    <!-- ERROR MSG -->
    <div id="guestError">
      Name not recognized.<br>
      Nom non reconnu.<br>
      Nome non trovato.
    </div>

    <!-- AZIONI -->
    <div id="guestLoginActions">
      <button id="guestConfirmBtn">OK</button>
      <button id="guestLogoutBtn" style="display:none;">Log out / D√©connexion / Esci</button>
    </div>

  </div>
</div>


<header>
  <div class="nav">
    <div class="brand">
      <button id="hambBtn" class="hamburger" aria-label="Open menu">
        <span></span><span></span><span></span>
      </button>
      <div class="names">Charlotte &amp; Gianluca</div>
      <div class="dot">¬∑</div>
      <div class="date">June 20, 2026</div>
    </div>
    <nav>
      <ul>
        <li><a href="/home.html">Home</a></li>
        <li><a href="/story.html">Our story</a></li>
        <li><a href="/stay.html">Plan your trip</a></li>
        <li><a href="/trip.html">Honeymoon</a></li>
        <li class="cta"><a href="/rsvp.html">RSVP</a></li>
      </ul>
    </nav>
  </div>

  <div id="mobileMenu" class="mobile-menu">
    <a href="/home.html">Home</a>
    <a href="/story.html">Our story</a>
    <a href="/stay.html">Plan your trip</a>
    <a href="/trip.html">Honeymoon</a>
    <a href="/rsvp.html"><strong>RSVP</strong></a>
  </div>
</header>

<section class="page-head">
  <h1>Our story</h1>
  <p>Dal primo ballo del 2014 fino alla Provenza, 2026 üíú</p>
</section>

<!-- SELETTORE LINGUA -->
<nav class="lang-toc">
  <a href="#it">üáÆüáπ Italiano</a>
  <a href="#en">üá¨üáß English</a>
  <a href="#fr">üá´üá∑ Fran√ßais</a>
</nav>

<!-- ============================= -->
<!-- üáÆüáπ ITALIANO -->
<!-- ============================= -->
<section id="it" class="timeline-wrapper">

  <div class="lang-section-title">La nostra storia ¬∑ üáÆüáπ Italiano</div>
  <div class="lang-section-note">Dal primo ballo a Mykonos fino alla Provenza. Anni, citt√†, voli low-cost e tanti ‚Äúa presto‚Äù.</div>

  <div class="timeline-line"></div>

  <!-- 2014 -->
  <article class="moment moment-left">
    <div class="dot-year"></div>

    <div class="photos">
      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2014.jpg" alt="Mykonos 2014">
      </div>

      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2014-1.jpg" alt="Mykonos 2014 extra">
      </div>

      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2014-3.jpg" alt="Mykonos 2014 ancora noi">
      </div>
    </div>

    <div class="content">
      <div>
        <div class="year-label">2014 ¬∑ L‚Äôincontro</div>
        <h2>Mykonos, 20 luglio ‚Äî il primo ballo</h2>
        <p>
          Tutto comincia una sera d‚Äôestate, il <strong>20 luglio 2014 a Mykonos</strong>.
          Gianluca √® in viaggio di maturit√† con gli amici, Charlotte √® in vacanza con la sua famiglia
          (e non era nemmeno cos√¨ convinta di voler andare in Grecia).
          I nostri sguardi si incrociano e balliamo insieme per la prima volta.
        </p>
      </div>
    </div>
  </article>

  <!-- 2014‚Äì2017 -->
  <article class="moment moment-right">
    <div class="dot-year"></div>

    <div class="photos">
      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2014-2017.jpg" alt="Anni a distanza">
      </div>

      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2014-2017-1.jpg" alt="Milano-Liegi voli e chiamate">
      </div>

      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2014-2017-3.jpg" alt="Ryanair, gate, saluti veloci">
      </div>
    </div>

    <div class="content">
      <div>
        <div class="year-label">2014‚Äì2017 ¬∑ La relazione a distanza</div>
        <h2>Liegi - Milano - Liegi ‚Äî voli e chiamate infinite</h2>
        <p>
          Tre anni di relazione a distanza: tanti voli Ryanair,
          telefonate infinite, messaggi a ogni ora. Non √® stato facile,
          ma la voglia di rivederci √® sempre stata pi√π forte di ogni chilometro.
        </p>
      </div>
    </div>
  </article>

  <!-- 2017‚Äì2018 -->
  <article class="moment moment-left">
    <div class="dot-year"></div>

    <div class="photos">
      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2017-2018.jpg" alt="Primi mesi a Milano">
      </div>

      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2017-2018-1.jpg" alt="Bocconi e nuova vita">
      </div>

      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2017-2018-3.jpg" alt="Charlotte diventa Carlotta">
      </div>
    </div>

    <div class="content">
      <div>
        <div class="year-label">2017‚Äì2018 ¬∑ Charlotte diventa ‚ÄúCarlotta‚Äù</div>
        <h2>Milano ‚Äî una nuova universit√†, citt√† e lingua</h2>
        <p>
          Le nostre vite si avvicinano quando Charlotte viene ammessa alla Bocconi.
          Lei dice che √® venuta a Milano solo per una delle migliori universit√† al mondo‚Ä¶
          quindi no, non ditelo che l‚Äôha fatto per Gianluca üòâ
        </p>
      </div>
    </div>
  </article>

  <!-- 2018‚Äì2020 -->
  <article class="moment moment-right">
    <div class="dot-year"></div>

    <div class="photos">
      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2018-2020.jpg" alt="Cile, Madrid, Parigi">
      </div>

      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2018-2020-1.jpg" alt="Tesi a Madrid">
      </div>

      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2018-2020-3.jpg" alt="Pandemia e distanza di nuovo">
      </div>
    </div>

    <div class="content">
      <div>
        <div class="year-label">2018‚Äì2020 ¬∑ Altri ostacoli</div>
        <h2>Santiago, Madrid, Parigi ‚Äî e una pandemia</h2>
        <p>
          Charlotte parte sei mesi in Cile; poi conviviamo per la prima volta.
          Per poco per√≤, perch√© Gianluca si sposta a Madrid per la tesi, Charlotte lo raggiunge,
          ma poi inizia uno stage a Parigi‚Ä¶ distanza di nuovo.
          E quando pensiamo di aver finito:
          arriva una pandemia globale a separarci di nuovo, in due paesi diversi.
          Ma restiamo insieme.
        </p>
      </div>
    </div>
  </article>

  <!-- 2020‚Äì2024 -->
  <article class="moment moment-left">
    <div class="dot-year"></div>

    <div class="photos">
      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2020-2024.jpg" alt="Porta Romana, primi 50 m¬≤">
      </div>

      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2020-2024-1.jpg" alt="Via Lucano">
      </div>

      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2020-2024-3.jpg" alt="Finalmente Milano insieme">
      </div>
    </div>

    <div class="content">
      <div>
        <div class="year-label">2020‚Äì2024 ¬∑ Costruire una vita insieme</div>
        <h2>Una casa (piccola), lavori (intensi), noi (finalmente)</h2>
        <p>
          Primo nostro nido: 50 m¬≤ in Porta Romana. Poi la nostra casa attuale in Via Lucano.
          Charlotte (forse nostalgica) entra nel mondo della birra belga;
          Gianluca trova l‚Äôoccasione in Amazon... a Piacenza... lavorando notti e weekend...
          poi finalmente a Milano con orari quasi umani.
          Tutto diventa pi√π semplice.
        </p>
      </div>
    </div>
  </article>

  <!-- 2025 -->
  <article class="moment moment-right">
    <div class="dot-year"></div>

    <div class="photos">
      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2025-proposta.jpg" alt="Andalo, la proposta">
      </div>

      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2025-proposta-1.jpg" alt="Dolomiti emozione">
      </div>

      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2025-proposta-3.jpg" alt="Lei dice s√¨">
      </div>
    </div>

    <div class="content">
      <div>
        <div class="year-label">21 luglio 2025 ¬∑ La proposta</div>
        <h2>Andalo, Dolomiti ‚Äî ‚Äúmi butto‚Äù</h2>
        <p>
          Dopo undici anni intensi, Gianluca decide che √® il momento.
          Tra le montagne delle Dolomiti, ad Andalo,
          arriva la domanda (Charlotte cade quasi dalla sedia üòÑ).
          Ma dice s√¨. üíç
        </p>
      </div>
    </div>
  </article>

  <!-- 2026 (SOLO 1 FOTO) -->
  <article class="moment moment-left">
    <div class="dot-year"></div>

    <div class="photos">
      <div class="polaroid rotate-neg" style="transform:rotate(-1deg);">
        <div class="tape"></div>
        <img src="/assets/story/2026-wedding.jpg" alt="Ch√¢teau de Pradines">
      </div>
    </div>

    <div class="content">
      <div>
        <div class="year-label">2026 ¬∑ Il matrimonio</div>
        <h2>Provenza ‚Äî Ch√¢teau de Pradines</h2>
        <p>
          La nostra storia ci porta qui,
          in Provenza, tra lavanda, luce dorata e vino ros√©.
          Un brindisi con le persone che amiamo
          e un nuovo inizio: insieme.
        </p>
      </div>
    </div>
  </article>

</section>

<!-- ============================= -->
<!-- üá¨üáß ENGLISH -->
<!-- ============================= -->
<section id="en" class="timeline-wrapper">

  <div class="lang-section-title">Our story ¬∑ üá¨üáß English</div>
  <div class="lang-section-note">
    From our first dance in Mykonos to a wedding in Provence.
    Years, cities, distance ‚Äî and still us.
  </div>

  <div class="timeline-line"></div>

  <!-- 2014 -->
  <article class="moment moment-left">
    <div class="dot-year"></div>

    <div class="photos">
      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2014.jpg" alt="Mykonos 2014">
      </div>

      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2014-1.jpg" alt="Mykonos 2014 extra">
      </div>

      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2014-3.jpg" alt="More Mykonos 2014">
      </div>
    </div>

    <div class="content">
      <div>
        <div class="year-label">2014 ¬∑ The first dance</div>
        <h2>Mykonos, July 20 ‚Äî where it begins</h2>
        <p>
          It all began on a summer night,
          <strong>July 20, 2014 in Mykonos</strong>.
          Gianluca was on a graduation trip with friends,
          Charlotte on holiday with her family
          (and she wasn‚Äôt even sure she wanted to go to Greece).
          Our eyes met ‚Äî and that night we shared our first real dance.
        </p>
      </div>
    </div>
  </article>

  <!-- 2014‚Äì2017 -->
  <article class="moment moment-right">
    <div class="dot-year"></div>

    <div class="photos">
      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2014-2017.jpg" alt="Long distance years">
      </div>

      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2014-2017-1.jpg" alt="Li√®ge-Milan-Li√®ge life">
      </div>

      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2014-2017-3.jpg" alt="Ryanair & late calls">
      </div>
    </div>

    <div class="content">
      <div>
        <div class="year-label">2014‚Äì2017 ¬∑ Long-distance love</div>
        <h2>Li√®ge - Milan - Li√®ge ‚Äî flights and late calls</h2>
        <p>
          Three years apart: countless Ryanair flights,
          endless phone calls, messages at all hours.
          It wasn‚Äôt easy, but the will to see each other again
          was always stronger than the distance.
        </p>
      </div>
    </div>
  </article>

  <!-- 2017‚Äì2018 -->
  <article class="moment moment-left">
    <div class="dot-year"></div>

    <div class="photos">
      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2017-2018.jpg" alt="Milan early days">
      </div>

      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2017-2018-1.jpg" alt="Bocconi and a new start">
      </div>

      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2017-2018-3.jpg" alt="Charlotte becomes Carlotta">
      </div>
    </div>

    <div class="content">
      <div>
        <div class="year-label">2017‚Äì2018 ¬∑ Charlotte becomes ‚ÄúCarlotta‚Äù</div>
        <h2>Milan ‚Äî new city, new life</h2>
        <p>
          Our lives really start to come together when Charlotte
          is admitted to Bocconi University.
          She still claims she moved to Milan for ‚Äúone of the best universities
          in the world‚Äù... not for Gianluca üòâ
        </p>
      </div>
    </div>
  </article>

  <!-- 2018‚Äì2020 -->
  <article class="moment moment-right">
    <div class="dot-year"></div>

    <div class="photos">
      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2018-2020.jpg" alt="Chile, Madrid, Paris">
      </div>

      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2018-2020-1.jpg" alt="Thesis in Madrid">
      </div>

      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2018-2020-3.jpg" alt="Pandemic keeping us apart">
      </div>
    </div>

    <div class="content">
      <div>
        <div class="year-label">2018‚Äì2020 ¬∑ Other obstacles</div>
        <h2>Santiago, Madrid, Paris ‚Äî and a pandemic</h2>
        <p>
          Charlotte spends six months in Chile; then we live together
          for the first time. Not for long, though ‚Äî
          Gianluca moves to Madrid for his thesis,
          Charlotte joins him for a while,
          then she lands an internship in Paris‚Ä¶
          distance again.
          And just when we thought we were done:
          a global pandemic arrives ‚Äî and we end up separated again,
          in two different countries.
          Still, we hold on. Together.
        </p>
      </div>
    </div>
  </article>

  <!-- 2020‚Äì2024 -->
  <article class="moment moment-left">
    <div class="dot-year"></div>

    <div class="photos">
      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2020-2024.jpg" alt="50 sqm in Porta Romana">
      </div>

      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2020-2024-1.jpg" alt="Via Lucano">
      </div>

      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2020-2024-3.jpg" alt="Finally Milan, finally us">
      </div>
    </div>

    <div class="content">
      <div>
        <div class="year-label">2020‚Äì2024 ¬∑ Building a life together</div>
        <h2>A small flat, intense jobs, and finally ‚Äúus‚Äù</h2>
        <p>
          Our first little home: 50 m¬≤ in Porta Romana.
          Then we move to our current place in Via Lucano.
          Charlotte (maybe a bit nostalgic) joins the Belgian beer world;
          Gianluca starts at Amazon‚Ä¶ in Piacenza‚Ä¶ with nights and weekends‚Ä¶
          until he finally transfers to Milan with almost normal hours.
          Suddenly, life feels lighter.
        </p>
      </div>
    </div>
  </article>

  <!-- 2025 -->
  <article class="moment moment-right">
    <div class="dot-year"></div>

    <div class="photos">
      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2025-proposta.jpg" alt="The proposal in Andalo">
      </div>

      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2025-proposta-1.jpg" alt="Dolomites moment">
      </div>

      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2025-proposta-3.jpg" alt="She said yes">
      </div>
    </div>

    <div class="content">
      <div>
        <div class="year-label">21 July 2025 ¬∑ The proposal</div>
        <h2>Andalo, Dolomites ‚Äî ‚Äúhere we go‚Äù</h2>
        <p>
          After eleven intense years, Gianluca decides it‚Äôs time.
          In the mountains of Andalo, in the Dolomites,
          he asks the question
          (Charlotte almost falls off her chair üòÑ).
          She says yes. üíç
        </p>
      </div>
    </div>
  </article>

  <!-- 2026 -->
  <article class="moment moment-left">
    <div class="dot-year"></div>

    <div class="photos">
      <div class="polaroid rotate-neg" style="transform:rotate(-1deg);">
        <div class="tape"></div>
        <img src="/assets/story/2026-wedding.jpg" alt="Provence Ch√¢teau">
      </div>
    </div>

    <div class="content">
      <div>
        <div class="year-label">2026 ¬∑ The wedding</div>
        <h2>Provence ‚Äî Ch√¢teau de Pradines</h2>
        <p>
          Our story leads us here:
          Provence, lavender, golden light, ros√© wine.
          A toast with the people we love,
          and a new beginning ‚Äî together.
        </p>
      </div>
    </div>
  </article>

</section>

<!-- ============================= -->
<!-- üá´üá∑ FRAN√áAIS -->
<!-- ============================= -->
<section id="fr" class="timeline-wrapper">

  <div class="lang-section-title">Notre histoire ¬∑ üá´üá∑ Fran√ßais</div>
  <div class="lang-section-note">
    De notre premi√®re danse √† Mykonos jusqu‚Äô√† la Provence.
    Des ann√©es de distance, de voyages, et toujours nous deux.
  </div>

  <div class="timeline-line"></div>

  <!-- 2014 -->
  <article class="moment moment-left">
    <div class="dot-year"></div>

    <div class="photos">
      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2014.jpg" alt="Mykonos 2014">
      </div>

      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2014-1.jpg" alt="Mykonos souvenir">
      </div>

      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2014-3.jpg" alt="Encore Mykonos 2014">
      </div>
    </div>

    <div class="content">
      <div>
        <div class="year-label">2014 ¬∑ La rencontre</div>
        <h2>Mykonos, 20 juillet ‚Äî notre premi√®re danse</h2>
        <p>
          Tout commence un soir d‚Äô√©t√©,
          le <strong>20 juillet 2014 √† Mykonos</strong>.
          Gianluca est en voyage de fin d‚Äô√©tudes avec ses amis,
          Charlotte en vacances avec sa famille
          (et elle n‚Äô√©tait m√™me pas s√ªre de vouloir partir en Gr√®ce !).
          Nos regards se croisent, et on danse pour la premi√®re fois.
        </p>
      </div>
    </div>
  </article>

  <!-- 2014‚Äì2017 -->
  <article class="moment moment-right">
    <div class="dot-year"></div>

    <div class="photos">
      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2014-2017.jpg" alt="Relation √† distance">
      </div>

      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2014-2017-1.jpg" alt="Li√®ge-Milan-Li√®ge vols">
      </div>

      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2014-2017-3.jpg" alt="Ryanair, textos, appels tard">
      </div>
    </div>

    <div class="content">
      <div>
        <div class="year-label">2014‚Äì2017 ¬∑ L‚Äôamour √† distance</div>
        <h2>Li√®ge - Milan - Li√®ge ‚Äî vols et appels sans fin</h2>
        <p>
          Trois ans de relation √† distance :
          d‚Äôinnombrables vols Ryanair,
          des appels interminables,
          des messages √† toute heure.
          Ce n‚Äô√©tait pas facile,
          mais l‚Äôenvie de se retrouver
          a toujours √©t√© plus forte que les kilom√®tres.
        </p>
      </div>
    </div>
  </article>

  <!-- 2017‚Äì2018 -->
  <article class="moment moment-left">
    <div class="dot-year"></div>

    <div class="photos">
      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2017-2018.jpg" alt="Milan, d√©but">
      </div>

      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2017-2018-1.jpg" alt="Bocconi">
      </div>

      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2017-2018-3.jpg" alt="Charlotte devient Carlotta">
      </div>
    </div>

    <div class="content">
      <div>
        <div class="year-label">2017‚Äì2018 ¬∑ Charlotte devient ‚ÄúCarlotta‚Äù</div>
        <h2>Milan ‚Äî nouvelle ville, nouvelle langue</h2>
        <p>
          Nos vies se rapprochent quand Charlotte
          est admise √† l‚ÄôUniversit√© Bocconi.
          Elle dit encore aujourd‚Äôhui
          qu‚Äôelle est venue √† Milan pour une des meilleures √©coles du monde‚Ä¶
          pas pour Gianluca üòâ
        </p>
      </div>
    </div>
  </article>

  <!-- 2018‚Äì2020 -->
  <article class="moment moment-right">
    <div class="dot-year"></div>

    <div class="photos">
      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2018-2020.jpg" alt="Chili, Madrid, Paris">
      </div>

      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2018-2020-1.jpg" alt="M√©moire √† Madrid">
      </div>

      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2018-2020-3.jpg" alt="Pand√©mie, s√©par√©s">
      </div>
    </div>

    <div class="content">
      <div>
        <div class="year-label">2018‚Äì2020 ¬∑ D‚Äôautres obstacles</div>
        <h2>Santiago, Madrid, Paris ‚Äî et une pand√©mie</h2>
        <p>
          Charlotte part six mois au Chili ; ensuite, on vit ensemble pour la premi√®re fois.
          Pas longtemps : Gianluca part √† Madrid pour sa th√®se,
          Charlotte le rejoint quelques mois,
          puis d√©croche un stage √† Paris‚Ä¶
          distance √† nouveau.
          Et quand on pense avoir tout v√©cu :
          une pand√©mie mondiale arrive ‚Äî
          et nous voil√† √† nouveau s√©par√©s,
          chacun dans un pays diff√©rent.
          Mais on reste soud√©s.
        </p>
      </div>
    </div>
  </article>

  <!-- 2020‚Äì2024 -->
  <article class="moment moment-left">
    <div class="dot-year"></div>

    <div class="photos">
      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2020-2024.jpg" alt="Premier appart Porta Romana">
      </div>

      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2020-2024-1.jpg" alt="Via Lucano actuel">
      </div>

      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2020-2024-3.jpg" alt="Enfin Milan, enfin nous">
      </div>
    </div>

    <div class="content">
      <div>
        <div class="year-label">2020‚Äì2024 ¬∑ Construire une vie ensemble</div>
        <h2>Un petit nid, des jobs intenses‚Ä¶ et enfin ‚Äúnous‚Äù</h2>
        <p>
          Notre premier nid : 50 m¬≤ √† Porta Romana.
          Puis notre appartement actuel, Via Lucano.
          Charlotte (un peu nostalgique ?) rejoint l‚Äôunivers de la bi√®re belge ;
          Gianluca commence chez Amazon‚Ä¶ √† Plaisance‚Ä¶ nuits et week-ends‚Ä¶
          avant de revenir √† Milan, avec des horaires (presque) normaux.
          Et l√†, tout devient plus l√©ger.
        </p>
      </div>
    </div>
  </article>

  <!-- 2025 -->
  <article class="moment moment-right">
    <div class="dot-year"></div>

    <div class="photos">
      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2025-proposta.jpg" alt="Demande en mariage Andalo">
      </div>

      <div class="polaroid rotate-neg">
        <div class="tape"></div>
        <img src="/assets/story/2025-proposta-1.jpg" alt="Emotion Dolomites">
      </div>

      <div class="polaroid rotate-pos">
        <div class="tape"></div>
        <img src="/assets/story/2025-proposta-3.jpg" alt="Elle dit oui">
      </div>
    </div>

    <div class="content">
      <div>
        <div class="year-label">21 juillet 2025 ¬∑ La demande</div>
        <h2>Andalo, Dolomites ‚Äî ‚Äúc‚Äôest parti‚Äù</h2>
        <p>
          Apr√®s onze ann√©es intenses, Gianluca se lance.
          Dans les montagnes des Dolomites, √† Andalo,
          il pose la question
          (Charlotte reste bouche b√©e üòÑ).
          Et elle dit oui. üíç
        </p>
      </div>
    </div>
  </article>

  <!-- 2026 -->
  <article class="moment moment-left">
    <div class="dot-year"></div>

    <div class="photos">
      <div class="polaroid rotate-neg" style="transform:rotate(-1deg);">
        <div class="tape"></div>
        <img src="/assets/story/2026-wedding.jpg" alt="Ch√¢teau de Pradines Provence">
      </div>
    </div>

    <div class="content">
      <div>
        <div class="year-label">2026 ¬∑ Le mariage</div>
        <h2>Provence ‚Äî Ch√¢teau de Pradines</h2>
        <p>
          Notre histoire nous am√®ne ici,
          en Provence, entre lavande et lumi√®re dor√©e.
          Un toast avec ceux qu‚Äôon aime,
          et un nouveau d√©part ‚Äî ensemble.
        </p>
      </div>
    </div>
  </article>

</section>

<footer>
  <small>¬© Charlotte &amp; Gianluca ‚Äî 2026</small>
</footer>

<script>
/* hamburger mobile menu */
(function(){
  const btn=document.getElementById('hambBtn');
  const menu=document.getElementById('mobileMenu');
  if(btn && menu){
    btn.addEventListener('click', e=>{
      e.stopPropagation();
      menu.style.display = (menu.style.display==='block')?'none':'block';
    });
    document.addEventListener('click', e=>{
      if(menu.style.display==='block' && !menu.contains(e.target) && e.target!==btn){
        menu.style.display='none';
      }
    });
  }
})();
</script>

  <script>
/* ===========================================================
   LISTA INVITATI "VIP" (quelli che vedranno welcome dinner & brunch)
   - Qui normalizziamo i nomi in minuscolo e senza accenti/puntini
   - IMPORTANTE: se aggiungi qualcuno, aggiungilo seguendo questo formato:
     "nome cognome"
     Se il cognome √® vuoto (tipo "B√©n√©dict"), metti solo il nome.
   =========================================================== */

const VIP_GUESTS = [
  "charlotte francis",
  "yves francis",
  "laurence hoppe",
  "chloe francis",
  "maya mertens",
  "chiara regalia",
  "matteo biroli",
  "chiara sestini",
  "riccardo magri",
  "marta vitro",
  "mattia marco",
  "andrea rodriguez",
  "piero giuriolo",
  "pietro favari",
  "elisa ferrantelli",
  "francesco santermosi",
  "viviana serdoz",
  "francesca garoia",
  "malve malvestio",
  "attilia la vecchia",
  "stefano de looper",
  "clara simon",
  "marine lesage",
  "thomas hulet",
  "nicola delle foglie",
  "baptiste charvat",
  "liza bibakova",
  "iphigenie loukakis",
  "sara nyssen",
  "koen slingerland",
  "gianluca guardala",      // guardal√† ‚Üí guardala
  "francesca arduini",
  "benedict",               // B√©n√©dict ‚Üí benedict
  "isidoro guardala",
  "simona guardala",
  "alessando guardala",
  "irene guardala",
  "patrick guardala",
  "emanuela zannetti",
  "andrea perozziello",
  "ragazza perroz",
  "fabio tarricone",
  "gisella martino capeda",
  "edoardo cutolo",
  "giorgia piras",
  "edoardo papini",
  "vittorio corti",
  "benedetta barbaresi",
  "giacomo gussoni",
  "matteo rossi",
  "lucrezia piracci",
  "davide bellotto",
  "silvia oltrabella",
  "ludovico sibani",        // S√¨bani ‚Üí sibani
  "silvia pignotti",
  "benedetta testoni",
  "giovanni de maria",
  "edoardo ferrario",
  "alessandro bianchi",
  "beatrice villa",
  "luca caravaggi",
  "mara moschino",
  "marzia camapnile",       // campanile?
  "nikola calic",
  "filippo sugla",          // sug|lia -> gestiamolo pi√π robusto sotto
  "camilla russo",
  "laerte adami",
  "noemi",
  "alberto garlaschelli",
  "jacopo guarneri",
  "lorenzo cederna",
  "benedetta pintus"
];

/* Per sicurezza, aggiungiamo una funzione per normalizzare accenti,
   spazi multipli, casi speciali tipo "Suglia" / "Sugla".
   Usiamo una funzione di "slugify" molto semplice.
*/
function normalizeName(str){
  if(!str) return "";
  // minuscolo
  let s = str.toLowerCase().trim();

  // normalizza accenti
  s = s.normalize("NFD").replace(/[\u0300-\u036f]/g, ""); // rimuove diacritici

  // sostituzioni manuali: se vogliamo sistemare errori tipo "suglia" / "sugla"
  s = s.replace(/\bsuglia\b/g,"sugla");
  s = s.replace(/\bguardal√†\b/g,"guardala");
  s = s.replace(/\bguardal√†\b/g,"guardala");

  // togli spazi doppi
  s = s.replace(/\s+/g," ");

  return s;
}

/* ===========================================================
   LOGIN LOGICA
   - Mostriamo il popup se NON abbiamo gi√† salvato lo stato
   - Quando confermano, salviamo in localStorage:
     { guestName: "nome cognome", isVIP: true/false }
   - Se uno fa logout, cancelliamo e ri-mostriamo popup
   - In base a isVIP mostriamo blocchi VIP nelle pagine
   =========================================================== */

const STORAGE_KEY = "weddingGuestInfo"; // localStorage key

function getGuestInfo(){
  try {
    return JSON.parse(localStorage.getItem(STORAGE_KEY)) || null;
  } catch(e){
    return null;
  }
}

function setGuestInfo(obj){
  localStorage.setItem(STORAGE_KEY, JSON.stringify(obj));
}

function clearGuestInfo(){
  localStorage.removeItem(STORAGE_KEY);
}

/* Mostra popup login */
function showLoginModal(){
  const overlay = document.getElementById("guestLoginOverlay");
  const errorMsg = document.getElementById("guestError");
  const logoutBtn = document.getElementById("guestLogoutBtn");

  if(overlay){
    overlay.style.display = "flex";
  }
  if(errorMsg){
    errorMsg.style.display = "none";
  }
  if(logoutBtn){
    logoutBtn.style.display = "none";
  }
}

/* Mostra popup logout (cio√® "sei loggato, vuoi uscire?") */
function showLogoutModal(guest){
  const overlay = document.getElementById("guestLoginOverlay");
  const modal   = document.getElementById("guestLoginModal");
  const errorMsg= document.getElementById("guestError");
  const first   = document.getElementById("guestFirst");
  const last    = document.getElementById("guestLast");
  const confirm = document.getElementById("guestConfirmBtn");
  const logout  = document.getElementById("guestLogoutBtn");

  if(!overlay||!modal) return;

  // Cambiamo leggermente il testo per dire chi √® loggato
  modal.querySelector("h2").textContent = guest.guestName;
  modal.querySelector("p").innerHTML = `
    You are signed in.<br>
    Vous √™tes connect√©(e).<br>
    Sei collegato/a.
  `;

  // Nascondiamo i campi nome/cognome perch√© sei gi√† loggato
  if(first) first.parentElement.style.display = "none";
  if(last)  last.parentElement.style.display  = "none";

  // Nascondi eventuale errore
  if(errorMsg) errorMsg.style.display = "none";

  // Mostra bottone logout
  if(logout) logout.style.display = "block";

  // Cambia testo bottone principale:
  if(confirm) {
    confirm.textContent = "Close / Fermer / Chiudi";
  }

  overlay.style.display = "flex";
}

/* Ripristina il popup in modalit√† LOGIN (nomi visibili) */
function resetModalToLogin(){
  const overlay = document.getElementById("guestLoginOverlay");
  const modal   = document.getElementById("guestLoginModal");
  const first   = document.getElementById("guestFirst");
  const last    = document.getElementById("guestLast");
  const confirm = document.getElementById("guestConfirmBtn");
  const logout  = document.getElementById("guestLogoutBtn");
  const errorMsg= document.getElementById("guestError");

  if(!overlay||!modal) return;

  modal.querySelector("h2").textContent = "Welcome ¬∑ Bienvenue ¬∑ Benvenuti";
  modal.querySelector("p").innerHTML = `
    Please enter your first and last name.<br>
    Veuillez saisir votre pr√©nom et nom.<br>
    Inserisci nome e cognome.
  `;

  // Mostra campi
  if(first) {
    first.parentElement.style.display = "block";
    first.value = "";
  }
  if(last) {
    last.parentElement.style.display  = "block";
    last.value = "";
  }

  // Nascondi messaggio errore
  if(errorMsg) errorMsg.style.display="none";

  // Bottone principale "OK"
  if(confirm){
    confirm.textContent = "OK";
  }

  // Nascondi logout
  if(logout){
    logout.style.display = "none";
  }
}

/* Prova login */
function tryLogin(){
  const first = document.getElementById("guestFirst").value || "";
  const last  = document.getElementById("guestLast").value  || "";
  const errorMsg = document.getElementById("guestError");
  const overlay  = document.getElementById("guestLoginOverlay");

  const fullNameNormalized = normalizeName(first + " " + last);

  // Controllo se il nome √® nella lista VIP
  const isVIP = VIP_GUESTS.includes(fullNameNormalized);

  // Salviamo comunque anche se non VIP,
  // cos√¨ chi non √® in lista pu√≤ navigare il sito senza rivedere il popup ogni volta
  if(fullNameNormalized.length < 2){
    // nome troppo corto
    if(errorMsg){
      errorMsg.style.display = "block";
    }
    return;
  }

  // Salva stato in localStorage
  setGuestInfo({
    guestName: first.trim() + " " + last.trim(),
    isVIP: isVIP
  });

  // Chiudi overlay
  if(overlay){
    overlay.style.display = "none";
  }

  // Ora che sappiamo se √® VIP, mostriamo eventuali sezioni VIP
  revealVIPSections(isVIP);
}

/* Logout */
function logoutGuest(){
  clearGuestInfo();
  resetModalToLogin();
  // Dopo il logout, ri-mostriamo in versione LOGIN
  showLoginModal();
  // Nascondiamo sezioni VIP per sicurezza
  revealVIPSections(false);
}

/* Mostra/nascondi le sezioni VIP nella pagina corrente */
function revealVIPSections(isVIP){
  const vipEls = document.querySelectorAll(".vip-only");
  vipEls.forEach(el=>{
    el.style.display = isVIP ? "" : "none";
  });
}

/* Setup iniziale quando la pagina carica */
document.addEventListener("DOMContentLoaded", function(){

  const overlay  = document.getElementById("guestLoginOverlay");
  const confirm  = document.getElementById("guestConfirmBtn");
  const logout   = document.getElementById("guestLogoutBtn");

  // 1. Leggi dal localStorage se c'√® gi√† un ospite
  const info = getGuestInfo();

  if(info){
    // Abbiamo gi√† un utente
    // - NON mostriamo il popup subito
    // - ma mostriamo/nascondiamo blocchi VIP
    revealVIPSections(!!info.isVIP);

    // Aggiungiamo listener sul brand (o su qualcosa) per poter riaprire popup e fare logout
    // Suggerimento: click sul nome in header apre modal logout
    const brand = document.querySelector(".brand");
    if(brand){
      brand.style.cursor = "pointer";
      brand.addEventListener("click", ()=>{
        showLogoutModal(info);
      });
    }

  } else {
    // Nessun utente noto -> mostriamo subito popup in modalit√† LOGIN
    resetModalToLogin();
    showLoginModal();
  }

  // Listener "OK" nel popup (fa login o chiude se gi√† loggato)
  if(confirm){
    confirm.addEventListener("click", ()=>{
      const currentInfo = getGuestInfo();
      if(currentInfo){
        // se sei gi√† loggato e stai vedendo popup "sei collegato"
        // chiudiamo semplicemente
        if(overlay) overlay.style.display="none";
      } else {
        // stai cercando di loggarti
        tryLogin();
      }
    });
  }

  // Listener "Logout"
  if(logout){
    logout.addEventListener("click", ()=>{
      logoutGuest();
    });
  }

  // Se clicchi fuori dal box, chiudi SOLO se gi√† loggato
  if(overlay){
    overlay.addEventListener("click", (e)=>{
      if(e.target===overlay){
        const currentInfo = getGuestInfo();
        // se NON loggato non chiudere
        if(currentInfo){
          overlay.style.display="none";
        }
      }
    });
  }
});
</script>


</body>
</html>
