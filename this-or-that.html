<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Team Cha vs Team Gianlu</title>

<link href="https://fonts.googleapis.com/css2?family=Allura&family=Cormorant:wght@400;500;600&display=swap" rel="stylesheet">

<style>
:root{
  --accent:#7465ad;
  --lavender:#bca9e0;
  --lavender-600:#9d87d1;
  --beige:#f7f3eb;
  --ink:#2a2438;
  --muted:#7b6f8e;
  --white:#ffffff;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--beige);
  font-family:"Cormorant",serif;
  color:var(--ink);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:24px;
}
.card{
  width:min(880px,100%);
  background:#fff;
  border-radius:24px;
  box-shadow:0 10px 30px rgba(0,0,0,.12);
  overflow:hidden;
  border:1px solid rgba(157,135,209,.18);
}
header{
  padding:28px 28px 16px;
  background:linear-gradient(135deg,var(--beige),#fff 40%,var(--beige));
}
.title{
  font-family:"Allura",cursive;
  font-size:48px;
  text-align:center;
  margin:0 0 8px;
  color:var(--lavender-600);
}
.subtitle{
  text-align:center;
  color:var(--muted);
  font-size:20px;
  margin:0;
}
.content{padding:24px 28px 32px}

.question{
  font-size:28px;
  font-weight:600;
  text-align:center;
  margin:10px 0 22px;
}
.options{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:16px;
  max-width:720px;
  margin:0 auto;
}
@media(max-width:720px){.options{grid-template-columns:1fr}}

.btn{
  border:none;
  border-radius:16px;
  padding:20px;
  font-size:18px;
  cursor:pointer;
  background:#faf7ff;
  box-shadow:0 4px 14px rgba(157,135,209,.18);
  border:1px solid rgba(157,135,209,.22);
}
.btn:hover{background:#f3edff}
.btn.selected{
  outline:3px solid var(--lavender-600);
  background:#efeaf8;
}

.nav{
  display:flex;
  justify-content:space-between;
  margin-top:24px;
}
.nav button{
  padding:12px 16px;
  border-radius:14px;
  border:1px solid rgba(157,135,209,.35);
  background:#fff;
  cursor:pointer;
}
.nav button.primary{
  background:var(--lavender-600);
  color:#fff;
  border:none;
}
.nav button:disabled{opacity:.4;cursor:not-allowed}

/* ================= LOGIN MODAL ================= */

#guestLoginOverlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.45);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:9999;
}
#guestLoginModal{
  background:#fff;
  max-width:360px;
  width:100%;
  border-radius:16px;
  padding:24px 20px;
  text-align:center;
  box-shadow:0 20px 60px rgba(0,0,0,.25);
}
#guestLoginModal h2{
  font-family:"Allura",cursive;
  font-size:32px;
  color:var(--accent);
  margin:0 0 10px;
}
#guestLoginModal p{
  font-style:italic;
  margin-bottom:16px;
}
.guest-field{text-align:left;margin-bottom:14px}
.guest-field label{font-size:16px;color:var(--muted)}
.guest-field input{
  width:100%;
  padding:10px;
  font-size:18px;
  border-radius:10px;
  border:1px solid #ccc;
}
#guestConfirmBtn{
  width:100%;
  padding:12px;
  border:none;
  border-radius:12px;
  background:var(--accent);
  color:#fff;
  font-size:18px;
  cursor:pointer;
}
#guestError{
  display:none;
  color:#b00020;
  margin-top:10px;
  font-size:16px;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="guestLoginOverlay">
  <div id="guestLoginModal">
    <h2>Welcome</h2>
    <p>Please enter your first and last name</p>

    <div class="guest-field">
      <label>Name</label>
      <input id="guestFirst">
    </div>
    <div class="guest-field">
      <label>Surname</label>
      <input id="guestLast">
    </div>

    <button id="guestConfirmBtn">OK</button>
    <div id="guestError">Name not recognized</div>
  </div>
</div>

<div class="card">
  <header>
    <h1 class="title">Team Cha vs Team Gianlu</h1>
    <p class="subtitle">This or That</p>
  </header>

  <div class="content">
    <div class="question" id="question"></div>
    <div class="options">
      <button class="btn" id="optA"></button>
      <button class="btn" id="optB"></button>
    </div>

    <div class="nav">
      <button id="prevBtn" disabled>Back</button>
      <button id="nextBtn" class="primary" disabled>Next</button>
    </div>
  </div>
</div>

<script>
/* ================= LOGIN ================= */

const VIP_LIST = [
  "Charlotte Francis","Gianluca GuardalÃ ","Fabio Tarricone"
];

function normalize(s){
  return (s||"").toLowerCase().trim()
    .normalize("NFD").replace(/[\u0300-\u036f]/g,"");
}

function isVipName(f,l){
  const full = normalize(f+" "+l);
  return VIP_LIST.map(normalize).includes(full);
}

function requireLogin(){
  if(!localStorage.getItem("guestName")){
    document.getElementById("guestLoginOverlay").style.display="flex";
  }
}

document.getElementById("guestConfirmBtn").onclick = ()=>{
  const f = guestFirst.value;
  const l = guestLast.value;
  if(!f||!l){
    guestError.style.display="block";
    return;
  }
  localStorage.setItem("guestName",f+" "+l);
  localStorage.setItem("isVIP", isVipName(f,l));
  guestLoginOverlay.style.display="none";
};

requireLogin();

/* ================= QUIZ ================= */

const QUESTIONS = [
  {q:"Morning person or night owl?", a:"Morning â˜€ï¸", b:"Night ðŸŒ™"},
  {q:"Mountains or sea?", a:"Mountains â›°ï¸", b:"Sea ðŸŒŠ"},
  {q:"Wine or cocktail?", a:"Wine ðŸ·", b:"Cocktail ðŸ¸"},
  {q:"Plan everything or improvise?", a:"Plan ðŸ“‹", b:"Improvise ðŸŽ²"}
];

let idx = 0;
let answers = [];

const qEl = document.getElementById("question");
const aEl = document.getElementById("optA");
const bEl = document.getElementById("optB");
const nextBtn = document.getElementById("nextBtn");
const prevBtn = document.getElementById("prevBtn");

function render(){
  const q = QUESTIONS[idx];
  qEl.textContent = q.q;
  aEl.textContent = q.a;
  bEl.textContent = q.b;

  aEl.classList.toggle("selected", answers[idx]==="A");
  bEl.classList.toggle("selected", answers[idx]==="B");

  prevBtn.disabled = idx===0;
  nextBtn.disabled = answers[idx]==null;
}

aEl.onclick = ()=>{answers[idx]="A";render();}
bEl.onclick = ()=>{answers[idx]="B";render();}
nextBtn.onclick = ()=>{ if(idx<QUESTIONS.length-1){idx++;render();}}
prevBtn.onclick = ()=>{ if(idx>0){idx--;render();}}

render();
</script>

</body>
</html>
